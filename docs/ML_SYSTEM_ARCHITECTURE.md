# ğŸ”„ ML-System Architektur - Visueller Ãœberblick

## ğŸ“± End-to-End Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ User tippt in WhatsApp: "Bist du grad allein?"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± Android Accessibility Service                                   â”‚
â”‚  GuardianAccessibilityService.kt                                    â”‚
â”‚                                                                      â”‚
â”‚  â€¢ Lauscht auf TYPE_VIEW_TEXT_CHANGED Events                        â”‚
â”‚  â€¢ Erfasst Text: "Bist du grad allein?"                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  KidGuard Engine (Hybrid-System)                                â”‚
â”‚  KidGuardEngine.kt                                                   â”‚
â”‚                                                                      â”‚
â”‚  analyzeText("Bist du grad allein?")                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                â”‚
             â–¼                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– ML-Modell (70%)        â”‚   â”‚  ğŸ”‘ Keyword-Matching (30%)        â”‚
â”‚  MLGroomingDetector.kt     â”‚   â”‚  vocabulary.txt                   â”‚
â”‚                            â”‚   â”‚                                   â”‚
â”‚  1. Tokenize               â”‚   â”‚  â€¢ Split Text in WÃ¶rter           â”‚
â”‚     "bist du grad allein"  â”‚   â”‚  â€¢ PrÃ¼fe gegen 1000+ Keywords     â”‚
â”‚     â†’ [9, 2, 1, 45, 0...]  â”‚   â”‚  â€¢ Matches: "allein" (High Risk)  â”‚
â”‚                            â”‚   â”‚                                   â”‚
â”‚  2. TFLite Inferenz        â”‚   â”‚  Risk-Count: 1 â†’ Score: 0.75      â”‚
â”‚     grooming_detector_     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚     scientific.tflite      â”‚                   â”‚
â”‚                            â”‚                   â”‚
â”‚  3. Output Probabilities   â”‚                   â”‚
â”‚     [0.02, 0.05, 0.03,     â”‚                   â”‚
â”‚      0.05, 0.85]           â”‚                   â”‚
â”‚     â†‘                      â”‚                   â”‚
â”‚     STAGE_ASSESSMENT 85%   â”‚                   â”‚
â”‚                            â”‚                   â”‚
â”‚  Prediction: DANGEROUS     â”‚                   â”‚
â”‚  Confidence: 0.85          â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
             â”‚                                   â”‚
             â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚  Gewichteter Durchschnitt:
             â”‚  (0.85 * 0.7) + (0.75 * 0.3) = 0.82
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Finale Bewertung                                                 â”‚
â”‚                                                                      â”‚
â”‚  Risk-Score: 0.82 (HOCH!)                                           â”‚
â”‚  Stage: STAGE_ASSESSMENT                                            â”‚
â”‚  Dangerous: TRUE                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  Aktion (basierend auf Threshold 0.7)                           â”‚
â”‚                                                                      â”‚
â”‚  â€¢ Log-Warnung: "GEFÃ„HRLICH ERKANNT"                                â”‚
â”‚  â€¢ Optional: Push-Notification an Eltern                            â”‚
â”‚  â€¢ Optional: Text in Datenbank speichern                            â”‚
â”‚  â€¢ Optional: Screenshot anfertigen                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§  ML-Modell Internals

```
Input: "Bist du grad allein?"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PREPROCESSING                            â”‚
â”‚                                           â”‚
â”‚  1. Lowercase                             â”‚
â”‚     "bist du grad allein?"                â”‚
â”‚                                           â”‚
â”‚  2. Remove Special Chars                  â”‚
â”‚     "bist du grad allein"                 â”‚
â”‚                                           â”‚
â”‚  3. Tokenize (Split by Whitespace)       â”‚
â”‚     ["bist", "du", "grad", "allein"]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VOCABULARY LOOKUP                        â”‚
â”‚  (grooming_detector_scientific_metadata)  â”‚
â”‚                                           â”‚
â”‚  "bist"   â†’ ID: 9                         â”‚
â”‚  "du"     â†’ ID: 2                         â”‚
â”‚  "grad"   â†’ ID: <OOV> â†’ 1                 â”‚
â”‚  "allein" â†’ ID: 45                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PADDING (MAX_LENGTH: 50)                 â”‚
â”‚                                           â”‚
â”‚  [9, 2, 1, 45, 0, 0, 0, ..., 0]          â”‚
â”‚   â†‘  â†‘  â†‘  â†‘   â””â”€ 46x Nullen             â”‚
â”‚   â”‚  â”‚  â”‚  â””â”€ allein                      â”‚
â”‚   â”‚  â”‚  â””â”€ grad (out-of-vocab)            â”‚
â”‚   â”‚  â””â”€ du                                â”‚
â”‚   â””â”€ bist                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONVERT TO FLOAT32                       â”‚
â”‚                                           â”‚
â”‚  [9.0f, 2.0f, 1.0f, 45.0f, 0.0f, ...]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TFLITE MODEL INFERENCE                   â”‚
â”‚  grooming_detector_scientific.tflite      â”‚
â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Embedding Layer                 â”‚     â”‚
â”‚  â”‚ [50] â†’ [50, 128]                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Conv1D (128 filters, kernel=5)  â”‚     â”‚
â”‚  â”‚ Detects n-gram patterns         â”‚     â”‚
â”‚  â”‚ [50, 128] â†’ [46, 128]           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ GlobalMaxPooling1D              â”‚     â”‚
â”‚  â”‚ [46, 128] â†’ [128]               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Dense (64 units, relu)          â”‚     â”‚
â”‚  â”‚ [128] â†’ [64]                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Dropout (0.5)                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Dense (5 units, softmax)        â”‚     â”‚
â”‚  â”‚ [64] â†’ [5]                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                             â”‚
â”‚  Output: [0.02, 0.05, 0.03, 0.05, 0.85]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PARSE RESULTS                              â”‚
â”‚                                             â”‚
â”‚  Probabilities:                             â”‚
â”‚    STAGE_SAFE:        2%                    â”‚
â”‚    STAGE_TRUST:       5%                    â”‚
â”‚    STAGE_NEEDS:       3%                    â”‚
â”‚    STAGE_ISOLATION:   5%                    â”‚
â”‚    STAGE_ASSESSMENT: 85% â† MAX              â”‚
â”‚                                             â”‚
â”‚  Predicted Stage: STAGE_ASSESSMENT          â”‚
â”‚  Confidence: 0.85                           â”‚
â”‚  Is Dangerous: TRUE (> 0.7 threshold)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ Hybrid-System: ML + Keywords

```
                     INPUT TEXT
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
         â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ML    â”‚                    â”‚ Keywords â”‚
    â”‚ 90.5%   â”‚                    â”‚ Fallback â”‚
    â”‚Accuracy â”‚                    â”‚          â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”‚  ML-Score: 0.85              â”‚  Keyword-Score: 0.75
         â”‚  (STAGE_ASSESSMENT)          â”‚  (1 High-Risk Match)
         â”‚                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ GEWICHTETER     â”‚
            â”‚ DURCHSCHNITT    â”‚
            â”‚                 â”‚
            â”‚ ML: 70% Gewicht â”‚
            â”‚ KW: 30% Gewicht â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         (0.85 Ã— 0.7) + (0.75 Ã— 0.3) = 0.82
                     â”‚
                     â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  FINAL   â”‚
               â”‚  SCORE   â”‚
               â”‚   0.82   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Warum Hybrid?

| Szenario | ML allein | Keywords allein | Hybrid |
|----------|-----------|-----------------|--------|
| "Bist du allein?" | âœ… 0.85 | âœ… 0.75 | âœ… 0.82 |
| "Brauchst Rbx?" (Typo) | âœ… 0.80 | âŒ 0.0 | âœ… 0.56 |
| "Secret meeting midnight" (EN) | âœ… 0.90 | âš ï¸ 0.5 | âœ… 0.78 |
| "Hausaufgaben vergessen?" | âœ… 0.05 | âœ… 0.0 | âœ… 0.035 |

**Vorteile:**
- ğŸ¯ **Robustheit:** Keywords fangen ML-Fehler ab
- ğŸš€ **Geschwindigkeit:** Keywords als Schnell-Filter
- ğŸ” **Transparenz:** Debuggable (Welches Keyword triggert?)
- ğŸ’ª **Resilienz:** System funktioniert auch wenn ML versagt

---

## ğŸ“Š Grooming-Stages Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Grooming-Prozess (nach PAN-12 Taxonomie)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 1: SAFE âœ…
â”œâ”€ "Wie geht's?"
â”œâ”€ "Willst du spielen?"
â””â”€ Risk: 0.0

        â”‚ TÃ¤ter beginnt Manipulation
        â–¼

Stage 2: TRUST ğŸŸ¡
â”œâ”€ "Du bist echt reif fÃ¼r dein Alter"
â”œâ”€ "Ich versteh dich besser als deine Eltern"
â””â”€ Risk: 0.5

        â”‚ Emotionale Bindung etabliert
        â–¼

Stage 3: NEEDS ğŸŸ 
â”œâ”€ "Brauchst du Robux?"
â”œâ”€ "Ich kann dir V-Bucks kaufen"
â””â”€ Risk: 0.65

        â”‚ AbhÃ¤ngigkeit geschaffen
        â–¼

Stage 4: ISOLATION ğŸ”´
â”œâ”€ "Lass uns auf Snapchat schreiben"
â”œâ”€ "LÃ¶sch die Nachrichten"
â””â”€ Risk: 0.8

        â”‚ Von Schutzpersonen getrennt
        â–¼

Stage 5: ASSESSMENT ğŸš¨
â”œâ”€ "Bist du allein?"
â”œâ”€ "Wo sind deine Eltern?"
â””â”€ Risk: 0.95

        â”‚ AKUTE GEFAHR!
        â–¼

    Physischer Ãœbergriff
```

---

## ğŸ¯ Decision Tree

```
                   Text-Input
                       â”‚
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ ML-Confidence  â”‚
              â”‚    > 0.8?      â”‚
              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                  â”‚        â”‚
                YES        NO
                  â”‚        â”‚
                  â–¼        â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Use ML   â”‚  â”‚ Check Assessment â”‚
          â”‚ Score    â”‚  â”‚ Patterns         â”‚
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚             â”‚
               â”‚             â–¼
               â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚     â”‚ "allein"?    â”‚
               â”‚     â”‚ "zimmer"?    â”‚
               â”‚     â”‚ "eltern"?    â”‚
               â”‚     â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
               â”‚        â”‚       â”‚
               â”‚       YES      NO
               â”‚        â”‚       â”‚
               â”‚        â–¼       â–¼
               â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   â”‚ Return â”‚ â”‚ Use Hybrid  â”‚
               â”‚   â”‚ 0.85   â”‚ â”‚ ML+Keywords â”‚
               â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚                     â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Final Score  â”‚
                  â”‚ > 0.7?       â”‚
                  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                      â”‚      â”‚
                     YES     NO
                      â”‚      â”‚
                      â–¼      â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ ALERT! â”‚ â”‚  OK    â”‚
                 â”‚ Log +  â”‚ â”‚  Pass  â”‚
                 â”‚ Notify â”‚ â”‚        â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Datei-Interaktionen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Android App (Runtime)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ LÃ¤dt beim Start:
    â”‚
    â”œâ”€â–º app/src/main/assets/
    â”‚   â”œâ”€ grooming_detector_scientific.tflite (0.03 MB)
    â”‚   â”œâ”€ grooming_detector_scientific_metadata.json
    â”‚   â””â”€ vocabulary.txt
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MLGroomingDetector.kt                                  â”‚
â”‚  â€¢ LÃ¤dt TFLite-Modell in Interpreter                   â”‚
â”‚  â€¢ Parst Metadata (Vocabulary-Mapping)                 â”‚
â”‚  â€¢ Bereit fÃ¼r Inferenz                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ Bereitgestellt fÃ¼r:
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KidGuardEngine.kt                                      â”‚
â”‚  â€¢ Ruft mlDetector.predict() auf                       â”‚
â”‚  â€¢ Kombiniert mit Keywords                             â”‚
â”‚  â€¢ Gibt finale Score zurÃ¼ck                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Update-Prozess (Neues Modell)

```
1. Training (auf Entwickler-PC)
   â”œâ”€ cd ml/
   â”œâ”€ python scripts/train_phase3.py
   â””â”€ Output: ml/models/new_model.tflite

2. Modell-Evaluation
   â”œâ”€ Teste Accuracy
   â”œâ”€ PrÃ¼fe Size (< 5 MB?)
   â””â”€ Validiere Inferenz-Zeit (< 50ms?)

3. Kopiere zu Android Assets
   â”œâ”€ cp ml/models/new_model.tflite \
   â”‚     app/src/main/assets/grooming_detector_scientific.tflite
   â””â”€ cp ml/models/new_model_metadata.json \
         app/src/main/assets/grooming_detector_scientific_metadata.json

4. Update Code (optional)
   â””â”€ Ã„ndere MLGroomingDetector.kt wenn nÃ¶tig
      (z.B. neue MAX_LENGTH, VOCAB_SIZE)

5. Rebuild App
   â””â”€ ./gradlew assembleDebug

6. Test auf Device
   â””â”€ ./quick_test_ml.sh

7. Deploy (wenn erfolgreich)
   â””â”€ ./gradlew assembleRelease
```

---

**Letzte Aktualisierung:** 26. Januar 2026  
**Autor:** KidGuard ML Team
